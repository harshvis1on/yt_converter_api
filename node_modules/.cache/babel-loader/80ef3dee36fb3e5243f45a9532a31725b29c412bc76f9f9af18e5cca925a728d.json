{"ast":null,"code":"// Utility functions for onboarding state management\nexport const isOnboardingCompleted=()=>{const podcastId=localStorage.getItem('podcastId');const onboardingCompleted=localStorage.getItem('onboardingCompleted');const podcastData=localStorage.getItem('podcastData');const currentPodcast=localStorage.getItem('currentPodcast');// Check multiple indicators for robust onboarding completion detection\n// If user has a current podcast from Supabase, consider onboarding complete\nconst hasRequiredData=podcastId&&(onboardingCompleted==='true'||podcastData)||currentPodcast;console.log('🔍 Onboarding completion check:',{podcastId:podcastId?'EXISTS':'NULL',onboardingCompleted,podcastData:podcastData?'EXISTS':'NULL',currentPodcast:currentPodcast?'EXISTS':'NULL',hasRequiredData});return hasRequiredData;};export const markOnboardingCompleted=(podcastId,podcastData)=>{localStorage.setItem('podcastId',podcastId);localStorage.setItem('podcastData',JSON.stringify(podcastData));localStorage.setItem('onboardingCompleted','true');localStorage.setItem('onboardingCompletedAt',new Date().toISOString());console.log('✅ Onboarding marked as completed:',{podcastId,timestamp:new Date().toISOString()});};export const clearOnboardingData=()=>{const keysToRemove=['podcastId','podcastData','channelData','videosData','prefillData','onboardingCompleted','onboardingCompletedAt'];keysToRemove.forEach(key=>localStorage.removeItem(key));console.log('🧹 Onboarding data cleared');};export const clearAllAuthData=()=>{const keysToRemove=[// Auth data\n'google_token','user_info','oauth_state',// Onboarding data\n'podcastId','podcastData','channelData','videosData','prefillData','onboardingCompleted','onboardingCompletedAt','currentPodcast',// YouTube data\n'isYouTubeConnected'];keysToRemove.forEach(key=>localStorage.removeItem(key));console.log('🧹 All authentication data cleared');};export const getOnboardingStatus=()=>{const podcastId=localStorage.getItem('podcastId');const onboardingCompleted=localStorage.getItem('onboardingCompleted');const completedAt=localStorage.getItem('onboardingCompletedAt');return{isCompleted:isOnboardingCompleted(),podcastId,onboardingCompleted:onboardingCompleted==='true',completedAt:completedAt?new Date(completedAt):null};};","map":{"version":3,"names":["isOnboardingCompleted","podcastId","localStorage","getItem","onboardingCompleted","podcastData","currentPodcast","hasRequiredData","console","log","markOnboardingCompleted","setItem","JSON","stringify","Date","toISOString","timestamp","clearOnboardingData","keysToRemove","forEach","key","removeItem","clearAllAuthData","getOnboardingStatus","completedAt","isCompleted"],"sources":["/Users/harshdeshmukh/YouTube To Mp4 Links/src/utils/onboarding.js"],"sourcesContent":["// Utility functions for onboarding state management\n\nexport const isOnboardingCompleted = () => {\n  const podcastId = localStorage.getItem('podcastId');\n  const onboardingCompleted = localStorage.getItem('onboardingCompleted');\n  const podcastData = localStorage.getItem('podcastData');\n  const currentPodcast = localStorage.getItem('currentPodcast');\n  \n  // Check multiple indicators for robust onboarding completion detection\n  // If user has a current podcast from Supabase, consider onboarding complete\n  const hasRequiredData = podcastId && (onboardingCompleted === 'true' || podcastData) || currentPodcast;\n  \n  console.log('🔍 Onboarding completion check:', {\n    podcastId: podcastId ? 'EXISTS' : 'NULL',\n    onboardingCompleted,\n    podcastData: podcastData ? 'EXISTS' : 'NULL',\n    currentPodcast: currentPodcast ? 'EXISTS' : 'NULL',\n    hasRequiredData\n  });\n  \n  return hasRequiredData;\n};\n\nexport const markOnboardingCompleted = (podcastId, podcastData) => {\n  localStorage.setItem('podcastId', podcastId);\n  localStorage.setItem('podcastData', JSON.stringify(podcastData));\n  localStorage.setItem('onboardingCompleted', 'true');\n  localStorage.setItem('onboardingCompletedAt', new Date().toISOString());\n  \n  console.log('✅ Onboarding marked as completed:', {\n    podcastId,\n    timestamp: new Date().toISOString()\n  });\n};\n\nexport const clearOnboardingData = () => {\n  const keysToRemove = [\n    'podcastId',\n    'podcastData', \n    'channelData',\n    'videosData',\n    'prefillData',\n    'onboardingCompleted',\n    'onboardingCompletedAt'\n  ];\n  \n  keysToRemove.forEach(key => localStorage.removeItem(key));\n  \n  console.log('🧹 Onboarding data cleared');\n};\n\nexport const clearAllAuthData = () => {\n  const keysToRemove = [\n    // Auth data\n    'google_token',\n    'user_info',\n    'oauth_state',\n    // Onboarding data\n    'podcastId',\n    'podcastData', \n    'channelData',\n    'videosData',\n    'prefillData',\n    'onboardingCompleted',\n    'onboardingCompletedAt',\n    'currentPodcast',\n    // YouTube data\n    'isYouTubeConnected'\n  ];\n  \n  keysToRemove.forEach(key => localStorage.removeItem(key));\n  \n  console.log('🧹 All authentication data cleared');\n};\n\nexport const getOnboardingStatus = () => {\n  const podcastId = localStorage.getItem('podcastId');\n  const onboardingCompleted = localStorage.getItem('onboardingCompleted');\n  const completedAt = localStorage.getItem('onboardingCompletedAt');\n  \n  return {\n    isCompleted: isOnboardingCompleted(),\n    podcastId,\n    onboardingCompleted: onboardingCompleted === 'true',\n    completedAt: completedAt ? new Date(completedAt) : null\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}