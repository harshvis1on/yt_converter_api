{"ast":null,"code":"// Utility functions for onboarding state management\n\nexport const isOnboardingCompleted = () => {\n  const podcastId = localStorage.getItem('podcastId');\n  const onboardingCompleted = localStorage.getItem('onboardingCompleted');\n  const podcastData = localStorage.getItem('podcastData');\n  const currentPodcast = localStorage.getItem('currentPodcast');\n\n  // Check multiple indicators for robust onboarding completion detection\n  // If user has a current podcast from Supabase, consider onboarding complete\n  const hasRequiredData = podcastId && (onboardingCompleted === 'true' || podcastData) || currentPodcast;\n  console.log('ðŸ” Onboarding completion check:', {\n    podcastId: podcastId ? 'EXISTS' : 'NULL',\n    onboardingCompleted,\n    podcastData: podcastData ? 'EXISTS' : 'NULL',\n    currentPodcast: currentPodcast ? 'EXISTS' : 'NULL',\n    hasRequiredData\n  });\n  return hasRequiredData;\n};\nexport const markOnboardingCompleted = (podcastId, podcastData) => {\n  localStorage.setItem('podcastId', podcastId);\n  localStorage.setItem('podcastData', JSON.stringify(podcastData));\n  localStorage.setItem('onboardingCompleted', 'true');\n  localStorage.setItem('onboardingCompletedAt', new Date().toISOString());\n  console.log('âœ… Onboarding marked as completed:', {\n    podcastId,\n    timestamp: new Date().toISOString()\n  });\n};\nexport const clearOnboardingData = () => {\n  const keysToRemove = ['podcastId', 'podcastData', 'channelData', 'videosData', 'prefillData', 'onboardingCompleted', 'onboardingCompletedAt'];\n  keysToRemove.forEach(key => localStorage.removeItem(key));\n  console.log('ðŸ§¹ Onboarding data cleared');\n};\nexport const clearAllAuthData = () => {\n  const keysToRemove = [\n  // Auth data\n  'google_token', 'user_info', 'oauth_state',\n  // Onboarding data\n  'podcastId', 'podcastData', 'channelData', 'videosData', 'prefillData', 'onboardingCompleted', 'onboardingCompletedAt', 'currentPodcast',\n  // YouTube data\n  'isYouTubeConnected'];\n  keysToRemove.forEach(key => localStorage.removeItem(key));\n  console.log('ðŸ§¹ All authentication data cleared');\n};\nexport const getOnboardingStatus = () => {\n  const podcastId = localStorage.getItem('podcastId');\n  const onboardingCompleted = localStorage.getItem('onboardingCompleted');\n  const completedAt = localStorage.getItem('onboardingCompletedAt');\n  return {\n    isCompleted: isOnboardingCompleted(),\n    podcastId,\n    onboardingCompleted: onboardingCompleted === 'true',\n    completedAt: completedAt ? new Date(completedAt) : null\n  };\n};","map":{"version":3,"names":["isOnboardingCompleted","podcastId","localStorage","getItem","onboardingCompleted","podcastData","currentPodcast","hasRequiredData","console","log","markOnboardingCompleted","setItem","JSON","stringify","Date","toISOString","timestamp","clearOnboardingData","keysToRemove","forEach","key","removeItem","clearAllAuthData","getOnboardingStatus","completedAt","isCompleted"],"sources":["/Users/harshdeshmukh/YouTube To Mp4 Links/src/utils/onboarding.js"],"sourcesContent":["// Utility functions for onboarding state management\n\nexport const isOnboardingCompleted = () => {\n  const podcastId = localStorage.getItem('podcastId');\n  const onboardingCompleted = localStorage.getItem('onboardingCompleted');\n  const podcastData = localStorage.getItem('podcastData');\n  const currentPodcast = localStorage.getItem('currentPodcast');\n  \n  // Check multiple indicators for robust onboarding completion detection\n  // If user has a current podcast from Supabase, consider onboarding complete\n  const hasRequiredData = podcastId && (onboardingCompleted === 'true' || podcastData) || currentPodcast;\n  \n  console.log('ðŸ” Onboarding completion check:', {\n    podcastId: podcastId ? 'EXISTS' : 'NULL',\n    onboardingCompleted,\n    podcastData: podcastData ? 'EXISTS' : 'NULL',\n    currentPodcast: currentPodcast ? 'EXISTS' : 'NULL',\n    hasRequiredData\n  });\n  \n  return hasRequiredData;\n};\n\nexport const markOnboardingCompleted = (podcastId, podcastData) => {\n  localStorage.setItem('podcastId', podcastId);\n  localStorage.setItem('podcastData', JSON.stringify(podcastData));\n  localStorage.setItem('onboardingCompleted', 'true');\n  localStorage.setItem('onboardingCompletedAt', new Date().toISOString());\n  \n  console.log('âœ… Onboarding marked as completed:', {\n    podcastId,\n    timestamp: new Date().toISOString()\n  });\n};\n\nexport const clearOnboardingData = () => {\n  const keysToRemove = [\n    'podcastId',\n    'podcastData', \n    'channelData',\n    'videosData',\n    'prefillData',\n    'onboardingCompleted',\n    'onboardingCompletedAt'\n  ];\n  \n  keysToRemove.forEach(key => localStorage.removeItem(key));\n  \n  console.log('ðŸ§¹ Onboarding data cleared');\n};\n\nexport const clearAllAuthData = () => {\n  const keysToRemove = [\n    // Auth data\n    'google_token',\n    'user_info',\n    'oauth_state',\n    // Onboarding data\n    'podcastId',\n    'podcastData', \n    'channelData',\n    'videosData',\n    'prefillData',\n    'onboardingCompleted',\n    'onboardingCompletedAt',\n    'currentPodcast',\n    // YouTube data\n    'isYouTubeConnected'\n  ];\n  \n  keysToRemove.forEach(key => localStorage.removeItem(key));\n  \n  console.log('ðŸ§¹ All authentication data cleared');\n};\n\nexport const getOnboardingStatus = () => {\n  const podcastId = localStorage.getItem('podcastId');\n  const onboardingCompleted = localStorage.getItem('onboardingCompleted');\n  const completedAt = localStorage.getItem('onboardingCompletedAt');\n  \n  return {\n    isCompleted: isOnboardingCompleted(),\n    podcastId,\n    onboardingCompleted: onboardingCompleted === 'true',\n    completedAt: completedAt ? new Date(completedAt) : null\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}